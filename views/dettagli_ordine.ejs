<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <title>Dettagli Ordine</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans&display=swap">
    <link rel="stylesheet" href="/css/style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.8.1/font/bootstrap-icons.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body class="dettagli_ordine">
    <%- include('navbar', { user: user }) %>

    <div class="container">
        <h1>Dettagli Ordine #<%= ordineId %></h1>
        <table class="table">
            <thead>
                <tr>
                    <th>Nome Prodotto</th>
                    <th>Prezzo</th>
                    <th>Quantità</th>
                    <th>Subtotale</th>
                </tr>
            </thead>
            <tbody>
                <% prodotti.forEach(prodotto => { %>
                    <tr>
                        <td><%= prodotto.Nome %></td>
                        <td>€<%= prodotto.Prezzo.toFixed(2) %></td>
                        <td><%= prodotto.Quantita %></td>
                        <td>€<%= prodotto.Subtotale.toFixed(2) %></td>
                    </tr>
                <% }); %>
            </tbody>
        </table>
        <h3>Totale Ordine: €<%= totaleOrdine.toFixed(2) %></h3>
        <% if (user && user.Email === 'admin@example.com') { %>
            <a href="/gestione_ordini" class="btn btn-secondary">Torna alla gestione ordini</a>
        <% } else { %>
            <a href="/mio_account" class="btn btn-secondary">Torna al mio account</a>
        <% } %>
    </div>
    <%- include('footer') %>
</body>
</html>